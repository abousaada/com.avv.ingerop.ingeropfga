<mvc:View
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.ui.table"
  xmlns:core="sap.ui.core"
  xmlns:m="sap.m"
  controllerName="com.avv.ingerop.ingeropfga.ext.controller.Sfgp">

  <Table id="sfgpTable" rows="{utilities>/sfgp}" selectionMode="None" width="auto" class="sfgpTable">
    <!-- === RECAP Projet Columns === -->
    <columns>
      <Column headerSpan="7" width="14em">
        <multiLabels>
          <m:Label text="Récap Projet"/>
          <m:Label text="Codes affaire"/>
        </multiLabels>
      <template>
          <m:Link text="{utilities>business_no}" press=".onPressFGALink" enabled="{= !${utilities>isFooter} }" href="{ path: 'utilities>business_no', formatter: '.formatter.buildFgaHref' }"/>
      </template>
      </Column>
      <Column>
        <multiLabels>
          <m:Label text="Récap Projet"/>
          <m:Label text="UFO déléguée"/>
        </multiLabels>
        <template><m:Text text="{utilities>ufo_name}"/></template>
      </Column>
      <Column>
        <multiLabels>
          <m:Label text="Récap Projet"/>
          <m:Label text="CDG"/>
        </multiLabels>
        <template><m:Text text="{utilities>cdg}"/></template>
      </Column>
      <Column>
        <multiLabels>
          <m:Label text="Récap Projet"/>
          <m:Label text="CA"/>
        </multiLabels>
        <template><m:Text text="{utilities>Ca}"/></template>
      </Column>
      <Column>
        <multiLabels>
          <m:Label text="Récap Projet"/>
          <m:Label text="Dépenses"/>
        </multiLabels>
        <template><m:Text text="{utilities>Depenses}"/></template>
      </Column>
      <Column>
        <multiLabels>
          <m:Label text="Récap Projet"/>
          <m:Label text="RBA"/>
        </multiLabels>
        <template><m:ObjectStatus text="{utilities>Rba}" state="{ path: 'utilities>Rba', formatter: '.formatter.setNegativeRedValue' }" /></template>
      </Column>
      <Column>
        <multiLabels>
          <m:Label text="Récap Projet"/>
          <m:Label text="%"/>
        </multiLabels>
        <template><m:ObjectNumber number="{utilities>RbaPourcent}" unit="%" /></template>
      </Column>

      <!-- === Budget Fin d’affaire === -->
      <Column headerSpan="4">
        <multiLabels>
          <m:Label text="Budget Fin d’affaire"/>
          <m:Label text="Main d’œuvre"/>
        </multiLabels>
        <template><m:Text text="{utilities>MoBudget}"/></template>
      </Column>
      <Column>
        <multiLabels>
          <m:Label text="Budget Fin d’affaire"/>
          <m:Label text="Sous-traitance"/>
        </multiLabels>
        <template><m:Text text="{utilities>StBudget}"/></template>
      </Column>
      <Column>
        <multiLabels>
          <m:Label text="Budget Fin d’affaire"/>
          <m:Label text="Autres frais"/>
        </multiLabels>
        <template><m:Text text="{utilities>AfBudget}"/></template>
      </Column>
      <Column>
        <multiLabels>
          <m:Label text="Budget Fin d’affaire"/>
          <m:Label text="Total"/>
        </multiLabels>
        <template><m:Text class="boldTotal" text="{utilities>TotalBudget}"/></template>
      </Column>

      <!-- === Réalisé === -->
      <Column headerSpan="5">
        <multiLabels>
          <m:Label text="Réalisé"/>
          <m:Label text="Main d’œuvre"/>
        </multiLabels>
        <template><m:Text text="{utilities>MoRealise}"/></template>
      </Column>
      <Column>
        <multiLabels>
          <m:Label text="Réalisé"/>
          <m:Label text="Sous-traitance"/>
        </multiLabels>
        <template><m:Text text="{utilities>StRealise}"/></template>
      </Column>
      <Column>
        <multiLabels>
          <m:Label text="Réalisé"/>
          <m:Label text="Autres frais"/>
        </multiLabels>
        <template><m:Text text="{utilities>AfRealise}"/></template>
      </Column>
      <Column>
        <multiLabels>
          <m:Label text="Réalisé"/>
          <m:Label text="Total"/>
        </multiLabels>
        <template><m:Text class="boldTotal" text="{utilities>TotalRealise}"/></template>
      </Column>
      <Column>
        <multiLabels>
          <m:Label text="Réalisé"/>
          <m:Label text="% avancement"/>
        </multiLabels>
        <template><m:Text class="boldTotal" text="{utilities>AvancementRealise}"/></template>
      </Column>

      <!-- === RAD === -->
      <Column headerSpan="4">
        <multiLabels>
          <m:Label text="RAD"/>
          <m:Label text="Main d’œuvre"/>
        </multiLabels>
        <template><m:ObjectStatus text="{utilities>MoRad}" state="{ path: 'utilities>MoRad', formatter: '.formatter.setNegativeRedValue' }" /></template>
      </Column>
      <Column>
        <multiLabels>
          <m:Label text="RAD"/>
          <m:Label text="Sous-traitance"/>
        </multiLabels>
        <template><m:ObjectStatus text="{utilities>StRad}" state="{ path: 'utilities>StRad', formatter: '.formatter.setNegativeRedValue' }" /></template>
      </Column>
      <Column>
        <multiLabels>
          <m:Label text="RAD"/>
          <m:Label text="Autres frais"/>
        </multiLabels>
        <template><m:ObjectStatus text="{utilities>AfRad}" state="{ path: 'utilities>AfRad', formatter: '.formatter.setNegativeRedValue' }" /></template>
      </Column>
      <Column>
        <multiLabels>
          <m:Label text="RAD"/>
          <m:Label text="Total"/>
        </multiLabels>
        <template><m:Text class="boldTotal" text="{utilities>TotalRad}"/></template>
      </Column>
    </columns>
  </Table>
</mvc:View>
